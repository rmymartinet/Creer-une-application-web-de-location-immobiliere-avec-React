{"ast":null,"code":"import _toConsumableArray from\"/Users/bonjour/Documents/Projet_n\\xB06_KASA_React/my-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"/Users/bonjour/Documents/Projet_n\\xB06_KASA_React/my-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from\"react\";import{useNavigate,useParams}from\"react-router-dom\";import arrow from\"../images/arrow.webp\";import Carousel from\"../components/Carousel.js\";import Collapse from\"../components/Collapse.js\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function getStarsIcons(starCount,rating){var stars=[];for(var i=0;i<starCount;i++){var starClass=i<rating?\"fa-solid fa-star orange\":\"fa-solid fa-star grey\";stars.push(/*#__PURE__*/_jsx(\"i\",{className:starClass},i));}return stars;}function Logements(_ref){var data=_ref.data;var _useParams=useParams(),id=_useParams.id;var selectedLogement=data.find(function(logement){return id.startsWith(logement.title);});var navigate=useNavigate();var _useState=useState([false,false]),_useState2=_slicedToArray(_useState,2),activeDropdowns=_useState2[0],setActiveDropdowns=_useState2[1];useEffect(function(){if(!selectedLogement){navigate(\"/page-introuvable\");}},[selectedLogement,navigate]);if(!selectedLogement){return null;}var toggleDropdown=function toggleDropdown(index){var nouveauxDropdownsActifs=_toConsumableArray(activeDropdowns);nouveauxDropdownsActifs[index]=!nouveauxDropdownsActifs[index];setActiveDropdowns(nouveauxDropdownsActifs);};var logementsSection=[{title:\"Description\",content:/*#__PURE__*/_jsxs(\"p\",{children:[\" \",selectedLogement.description]}),arrowImage:arrow},{title:\"Equipements\",content:/*#__PURE__*/_jsx(\"ul\",{className:\"equipments-content\",children:selectedLogement.equipments.map(function(equipment,index){return/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"p\",{children:equipment})},index);})}),arrowImage:arrow}];var fullName=selectedLogement.host.name;var lastSpaceIndex=fullName.lastIndexOf(\" \");var lastName=fullName.slice(0,lastSpaceIndex);var firstName=fullName.slice(lastSpaceIndex+1);return/*#__PURE__*/_jsxs(\"section\",{className:\"logement-container\",children:[/*#__PURE__*/_jsx(Carousel,{data:selectedLogement.pictures}),/*#__PURE__*/_jsxs(\"div\",{className:\"logement-container-informations\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"logement-informations\",children:[/*#__PURE__*/_jsx(\"h1\",{children:selectedLogement.title}),/*#__PURE__*/_jsx(\"p\",{children:selectedLogement.location}),/*#__PURE__*/_jsx(\"div\",{className:\"tags-container\",children:selectedLogement.tags.map(function(tag,index){return/*#__PURE__*/_jsx(\"ul\",{children:/*#__PURE__*/_jsx(\"li\",{className:\"tags\",children:/*#__PURE__*/_jsx(\"p\",{children:tag})})},index);})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"host\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"host-user\",children:[/*#__PURE__*/_jsxs(\"span\",{children:[firstName,\" \",/*#__PURE__*/_jsx(\"br\",{}),\" \",lastName]}),/*#__PURE__*/_jsx(\"img\",{alt:selectedLogement.title,src:selectedLogement.host.picture})]}),/*#__PURE__*/_jsx(\"div\",{className:\"host-rating\",children:/*#__PURE__*/_jsx(\"div\",{className:\"rating\",children:getStarsIcons(5,selectedLogement.rating)})})]})]}),/*#__PURE__*/_jsx(Collapse,{sections:logementsSection,activeDropdowns:activeDropdowns,toggleDropdown:toggleDropdown,page:\"logements\"})]});}export default Logements;","map":{"version":3,"names":["React","useEffect","useState","useNavigate","useParams","arrow","Carousel","Collapse","jsx","_jsx","jsxs","_jsxs","getStarsIcons","starCount","rating","stars","i","starClass","push","className","Logements","_ref","data","_useParams","id","selectedLogement","find","logement","startsWith","title","navigate","_useState","_useState2","_slicedToArray","activeDropdowns","setActiveDropdowns","toggleDropdown","index","nouveauxDropdownsActifs","_toConsumableArray","logementsSection","content","children","description","arrowImage","equipments","map","equipment","fullName","host","name","lastSpaceIndex","lastIndexOf","lastName","slice","firstName","pictures","location","tags","tag","alt","src","picture","sections","page"],"sources":["/Users/bonjour/Documents/Projet_nÂ°6_KASA_React/my-app/src/pages/Logements.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { useNavigate, useParams } from \"react-router-dom\";\nimport arrow from \"../images/arrow.webp\";\nimport Carousel from \"../components/Carousel.js\";\nimport Collapse from \"../components/Collapse.js\";\n\nfunction getStarsIcons(starCount, rating) {\n  const stars = [];\n  for (let i = 0; i < starCount; i++) {\n    const starClass =\n      i < rating ? \"fa-solid fa-star orange\" : \"fa-solid fa-star grey\";\n    stars.push(<i key={i} className={starClass}></i>);\n  }\n  return stars;\n}\n\nfunction Logements({ data }) {\n  const { id } = useParams();\n  const selectedLogement = data.find((logement) =>\n    id.startsWith(logement.title)\n  );\n\n  const navigate = useNavigate();\n  const [activeDropdowns, setActiveDropdowns] = useState([false, false]);\n  useEffect(() => {\n    if (!selectedLogement) {\n      navigate(\"/page-introuvable\");\n    }\n  }, [selectedLogement, navigate]);\n\n  if (!selectedLogement) {\n    return null;\n  }\n\n  const toggleDropdown = (index) => {\n    const nouveauxDropdownsActifs = [...activeDropdowns];\n    nouveauxDropdownsActifs[index] = !nouveauxDropdownsActifs[index];\n    setActiveDropdowns(nouveauxDropdownsActifs);\n  };\n\n  const logementsSection = [\n    {\n      title: \"Description\",\n      content: <p> {selectedLogement.description}</p>,\n      arrowImage: arrow,\n    },\n    {\n      title: \"Equipements\",\n      content: (\n        <ul className=\"equipments-content\">\n          {selectedLogement.equipments.map((equipment, index) => (\n            <li key={index}>\n              <p>{equipment}</p>\n            </li>\n          ))}\n        </ul>\n      ),\n      arrowImage: arrow,\n    },\n  ];\n\n  const fullName = selectedLogement.host.name;\n  const lastSpaceIndex = fullName.lastIndexOf(\" \");\n\n  const lastName = fullName.slice(0, lastSpaceIndex);\n  const firstName = fullName.slice(lastSpaceIndex + 1);\n\n  return (\n    <section className=\"logement-container\">\n      <Carousel data={selectedLogement.pictures} />\n      <div className=\"logement-container-informations\">\n        <div className=\"logement-informations\">\n          <h1>{selectedLogement.title}</h1>\n          <p>{selectedLogement.location}</p>\n\n          <div className=\"tags-container\">\n            {selectedLogement.tags.map((tag, index) => (\n              <ul key={index}>\n                <li className=\"tags\">\n                  <p>{tag}</p>\n                </li>\n              </ul>\n            ))}\n          </div>\n        </div>\n        <div className=\"host\">\n          <div className=\"host-user\">\n            <span>\n              {firstName} <br /> {lastName}\n            </span>\n            <img\n              alt={selectedLogement.title}\n              src={selectedLogement.host.picture}\n            ></img>\n          </div>\n          <div className=\"host-rating\">\n            <div className=\"rating\">\n              {getStarsIcons(5, selectedLogement.rating)}\n            </div>\n          </div>\n        </div>\n      </div>\n\n      {/** Dropdown */}\n      <Collapse\n        sections={logementsSection}\n        activeDropdowns={activeDropdowns}\n        toggleDropdown={toggleDropdown}\n        page=\"logements\"\n      />\n    </section>\n  );\n}\n\nexport default Logements;\n"],"mappings":"oSAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,OAASC,WAAW,CAAEC,SAAS,KAAQ,kBAAkB,CACzD,MAAO,CAAAC,KAAK,KAAM,sBAAsB,CACxC,MAAO,CAAAC,QAAQ,KAAM,2BAA2B,CAChD,MAAO,CAAAC,QAAQ,KAAM,2BAA2B,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAEjD,QAAS,CAAAC,aAAaA,CAACC,SAAS,CAAEC,MAAM,CAAE,CACxC,GAAM,CAAAC,KAAK,CAAG,EAAE,CAChB,IAAK,GAAI,CAAAC,CAAC,CAAG,CAAC,CAAEA,CAAC,CAAGH,SAAS,CAAEG,CAAC,EAAE,CAAE,CAClC,GAAM,CAAAC,SAAS,CACbD,CAAC,CAAGF,MAAM,CAAG,yBAAyB,CAAG,uBAAuB,CAClEC,KAAK,CAACG,IAAI,cAACT,IAAA,MAAWU,SAAS,CAAEF,SAAU,EAAxBD,CAA4B,CAAC,CAAC,CACnD,CACA,MAAO,CAAAD,KAAK,CACd,CAEA,QAAS,CAAAK,SAASA,CAAAC,IAAA,CAAW,IAAR,CAAAC,IAAI,CAAAD,IAAA,CAAJC,IAAI,CACvB,IAAAC,UAAA,CAAenB,SAAS,CAAC,CAAC,CAAlBoB,EAAE,CAAAD,UAAA,CAAFC,EAAE,CACV,GAAM,CAAAC,gBAAgB,CAAGH,IAAI,CAACI,IAAI,CAAC,SAACC,QAAQ,QAC1C,CAAAH,EAAE,CAACI,UAAU,CAACD,QAAQ,CAACE,KAAK,CAAC,EAC/B,CAAC,CAED,GAAM,CAAAC,QAAQ,CAAG3B,WAAW,CAAC,CAAC,CAC9B,IAAA4B,SAAA,CAA8C7B,QAAQ,CAAC,CAAC,KAAK,CAAE,KAAK,CAAC,CAAC,CAAA8B,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAA/DG,eAAe,CAAAF,UAAA,IAAEG,kBAAkB,CAAAH,UAAA,IAC1C/B,SAAS,CAAC,UAAM,CACd,GAAI,CAACwB,gBAAgB,CAAE,CACrBK,QAAQ,CAAC,mBAAmB,CAAC,CAC/B,CACF,CAAC,CAAE,CAACL,gBAAgB,CAAEK,QAAQ,CAAC,CAAC,CAEhC,GAAI,CAACL,gBAAgB,CAAE,CACrB,MAAO,KAAI,CACb,CAEA,GAAM,CAAAW,cAAc,CAAG,QAAjB,CAAAA,cAAcA,CAAIC,KAAK,CAAK,CAChC,GAAM,CAAAC,uBAAuB,CAAAC,kBAAA,CAAOL,eAAe,CAAC,CACpDI,uBAAuB,CAACD,KAAK,CAAC,CAAG,CAACC,uBAAuB,CAACD,KAAK,CAAC,CAChEF,kBAAkB,CAACG,uBAAuB,CAAC,CAC7C,CAAC,CAED,GAAM,CAAAE,gBAAgB,CAAG,CACvB,CACEX,KAAK,CAAE,aAAa,CACpBY,OAAO,cAAE9B,KAAA,MAAA+B,QAAA,EAAG,GAAC,CAACjB,gBAAgB,CAACkB,WAAW,EAAI,CAAC,CAC/CC,UAAU,CAAEvC,KACd,CAAC,CACD,CACEwB,KAAK,CAAE,aAAa,CACpBY,OAAO,cACLhC,IAAA,OAAIU,SAAS,CAAC,oBAAoB,CAAAuB,QAAA,CAC/BjB,gBAAgB,CAACoB,UAAU,CAACC,GAAG,CAAC,SAACC,SAAS,CAAEV,KAAK,qBAChD5B,IAAA,OAAAiC,QAAA,cACEjC,IAAA,MAAAiC,QAAA,CAAIK,SAAS,CAAI,CAAC,EADXV,KAEL,CAAC,EACN,CAAC,CACA,CACL,CACDO,UAAU,CAAEvC,KACd,CAAC,CACF,CAED,GAAM,CAAA2C,QAAQ,CAAGvB,gBAAgB,CAACwB,IAAI,CAACC,IAAI,CAC3C,GAAM,CAAAC,cAAc,CAAGH,QAAQ,CAACI,WAAW,CAAC,GAAG,CAAC,CAEhD,GAAM,CAAAC,QAAQ,CAAGL,QAAQ,CAACM,KAAK,CAAC,CAAC,CAAEH,cAAc,CAAC,CAClD,GAAM,CAAAI,SAAS,CAAGP,QAAQ,CAACM,KAAK,CAACH,cAAc,CAAG,CAAC,CAAC,CAEpD,mBACExC,KAAA,YAASQ,SAAS,CAAC,oBAAoB,CAAAuB,QAAA,eACrCjC,IAAA,CAACH,QAAQ,EAACgB,IAAI,CAAEG,gBAAgB,CAAC+B,QAAS,CAAE,CAAC,cAC7C7C,KAAA,QAAKQ,SAAS,CAAC,iCAAiC,CAAAuB,QAAA,eAC9C/B,KAAA,QAAKQ,SAAS,CAAC,uBAAuB,CAAAuB,QAAA,eACpCjC,IAAA,OAAAiC,QAAA,CAAKjB,gBAAgB,CAACI,KAAK,CAAK,CAAC,cACjCpB,IAAA,MAAAiC,QAAA,CAAIjB,gBAAgB,CAACgC,QAAQ,CAAI,CAAC,cAElChD,IAAA,QAAKU,SAAS,CAAC,gBAAgB,CAAAuB,QAAA,CAC5BjB,gBAAgB,CAACiC,IAAI,CAACZ,GAAG,CAAC,SAACa,GAAG,CAAEtB,KAAK,qBACpC5B,IAAA,OAAAiC,QAAA,cACEjC,IAAA,OAAIU,SAAS,CAAC,MAAM,CAAAuB,QAAA,cAClBjC,IAAA,MAAAiC,QAAA,CAAIiB,GAAG,CAAI,CAAC,CACV,CAAC,EAHEtB,KAIL,CAAC,EACN,CAAC,CACC,CAAC,EACH,CAAC,cACN1B,KAAA,QAAKQ,SAAS,CAAC,MAAM,CAAAuB,QAAA,eACnB/B,KAAA,QAAKQ,SAAS,CAAC,WAAW,CAAAuB,QAAA,eACxB/B,KAAA,SAAA+B,QAAA,EACGa,SAAS,CAAC,GAAC,cAAA9C,IAAA,QAAK,CAAC,IAAC,CAAC4C,QAAQ,EACxB,CAAC,cACP5C,IAAA,QACEmD,GAAG,CAAEnC,gBAAgB,CAACI,KAAM,CAC5BgC,GAAG,CAAEpC,gBAAgB,CAACwB,IAAI,CAACa,OAAQ,CAC/B,CAAC,EACJ,CAAC,cACNrD,IAAA,QAAKU,SAAS,CAAC,aAAa,CAAAuB,QAAA,cAC1BjC,IAAA,QAAKU,SAAS,CAAC,QAAQ,CAAAuB,QAAA,CACpB9B,aAAa,CAAC,CAAC,CAAEa,gBAAgB,CAACX,MAAM,CAAC,CACvC,CAAC,CACH,CAAC,EACH,CAAC,EACH,CAAC,cAGNL,IAAA,CAACF,QAAQ,EACPwD,QAAQ,CAAEvB,gBAAiB,CAC3BN,eAAe,CAAEA,eAAgB,CACjCE,cAAc,CAAEA,cAAe,CAC/B4B,IAAI,CAAC,WAAW,CACjB,CAAC,EACK,CAAC,CAEd,CAEA,cAAe,CAAA5C,SAAS"},"metadata":{},"sourceType":"module","externalDependencies":[]}